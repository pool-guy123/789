<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>古韵赣南·客家印象红色文化探寻之旅盲盒</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('https://ts1.cn.mm.bing.net/th/id/R-C.0a70b08098b584790d46a78d1e9f4523?rik=GUhtAXl9gwHaUA&riu=http%3a%2f%2fimg95.699pic.com%2fphoto%2f40006%2f5209.jpg_wh860.jpg&ehk=sjGC7YntPjclCo%2fj3CCRqfu6N1jFctc64sKyLAXZXrM%3d&risl=&pid=ImgRaw&r=0');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .container {
            max-width: 1000px;
            height: auto;
            margin: 50px auto;
            padding: 30px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .label-title {
            font-size: 18px;
            color: #333;
            margin-bottom: 10px;
            text-align: left;
        }
        .button-group {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            margin-bottom: 20px;
        }
        .group1-btn, .group2-btn {
            width: 70%;
            padding: 12px 24px;
            font-size: 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #ff7f50, #ff6347);
            color: white;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .group2-btn {
            background: linear-gradient(135deg, #87cefa, #4682b4);
        }
        .group1-btn:hover, .group2-btn:hover {
            transform: translateY(-5px);
        }
        .group1-btn:active, .group2-btn:active {
            transform: scale(0.90);
        }
        .selected {
            background-color: #32CD32 !important;
            color: white !important;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2) !important;
            border: 2px solid #006400 !important;
            transform: scale(1.1) !important;
        }
        .counter-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }
        .counter-btn {
            font-size: 20px;
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background-color: #ff7f50;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .counter-btn:active {
            transform: scale(0.9);
        }
        .counter-value {
            font-size: 20px;
            margin: 0 20px;
        }
        #randomBtn {
            width: 200px;
            height: 200px;
            font-size: 35px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        }
        #randomBtn:active {
            transform: scale(0.90);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        #randomBtn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }

        /* 图片显示区域2*2排列 */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
            display: none;
        }
        .random-image {
            width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* 动画样式 */
        .animate {
            display: none;
            justify-content: center;
            align-items: center;
        }

        .gif {
            width: 300px;
            height: 300px;
            transform-origin: center;
        }

        /* gif 动画控制 */
        @keyframes gifAnimation {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        /* 再来一次按钮样式 */
        .retry-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            font-size: 18px;
            background-color: #ff6347;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background 0.3s ease, transform 0.3s ease;
        }
        .retry-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
        }
        .retry-btn:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>带着盲盒“嘉游赣”</h1>

        <!-- 标签1 提示语 -->
        <div class="label-title">您期待欣赏什么季节的赣南风光：</div>
        <div class="button-group" id="group1-buttons">
            <button data-label="chun" class="group1-btn">春日暖</button>
            <button data-label="dong" class="group1-btn">冬夜静</button>
            <button data-label="qiu" class="group1-btn">秋意浓</button>
            <button data-label="xia" class="group1-btn">夏风轻</button>
        </div>

        <!-- 标签2 提示语 -->
        <div class="label-title">您的旅行形式是：</div>
        <div class="button-group" id="group2-buttons">
            <button data-label="danren" class="group2-btn">独享宁静</button>
            <button data-label="qinglv" class="group2-btn">佳人相伴</button>
            <button data-label="qinzi" class="group2-btn">举家同游</button>
            <button data-label="zhonglaonian" class="group2-btn">乐享天年</button>
        </div>

        <!-- 数量选择器 提示语 -->
        <div class="label-title">您此次的出行人数是：</div>
        <div class="counter-container">
            <button class="counter-btn" id="decrement">-</button>
            <div class="counter-value" id="counterValue">1</div>
            <button class="counter-btn" id="increment">+</button>
        </div>

        <button id="randomBtn">打开盲盒</button>

        <!-- 开盲盒动图 -->
        <div class="animate" id="animateContainer">
            <img class="gif" id="gifImage" src="gif.75team.com.gif" alt="盲盒动图">
        </div>

        <!-- 图片展示区 -->
        <div class="image-grid" id="imageGrid">
            <img id="randomImage1" class="random-image" src="" alt="随机图片1">
            <img id="randomImage2" class="random-image" src="" alt="随机图片2">
            <img id="randomImage3" class="random-image" src="" alt="随机图片3">
            <img id="randomImage4" class="random-image" src="" alt="随机图片4">
        </div>

        <!-- 再来一次按钮 -->
        <button class="retry-btn" id="retryBtn">再试一次</button>
    </div>

    <script src="images_paths.js"></script>
    <script>
        const group1Buttons = document.querySelectorAll('.group1-btn');
        const group2Buttons = document.querySelectorAll('.group2-btn');
        const randomBtn = document.getElementById('randomBtn');
        const retryBtn = document.getElementById('retryBtn');
        const gifImage = document.getElementById('gifImage');
        const animateContainer = document.getElementById('animateContainer');
        const imageGrid = document.getElementById('imageGrid');
        const imageElements = [
            document.getElementById('randomImage1'),
            document.getElementById('randomImage2'),
            document.getElementById('randomImage3'),
            document.getElementById('randomImage4')
        ];

        let selectedGroup1 = null;
        let selectedGroup2 = null;
        let counter = 1; // 默认值为1

        // 选择标签1
        group1Buttons.forEach(button => {
            button.addEventListener('click', () => {
                group1Buttons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                selectedGroup1 = button.getAttribute('data-label');
            });
        });

        // 选择标签2
        group2Buttons.forEach(button => {
            button.addEventListener('click', () => {
                group2Buttons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                selectedGroup2 = button.getAttribute('data-label');
            });
        });

        // 数量选择器
        const decrementBtn = document.getElementById('decrement');
        const incrementBtn = document.getElementById('increment');
        const counterValue = document.getElementById('counterValue');

        decrementBtn.addEventListener('click', () => {
            if (counter > 1) {
                counter--;
                counterValue.textContent = counter;
            }
        });

        incrementBtn.addEventListener('click', () => {
            if (counter < 10) {
                counter++;
                counterValue.textContent = counter;
            }
        });

        // 点击抽取按钮
        randomBtn.addEventListener('click', function() {
            if (!selectedGroup1 || !selectedGroup2) {
                alert('请选择两个标签！');
                return;
            }

            // 隐藏抽取按钮
            randomBtn.style.display = 'none';

            // 显示gif动画
            animateContainer.style.display = 'flex';
            gifImage.style.animation = 'gifAnimation 1.8s linear forwards';

            setTimeout(() => {
                animateContainer.style.display = 'none'; // 动画结束后隐藏gif
                imageGrid.style.display = 'grid'; // 显示图片网格

                const paths = images[selectedGroup1][selectedGroup2];
                const selectedPaths = new Set(); // 用来存储已选的图片路径

                // 随机选择四张不重复的图片并显示
                imageElements.forEach(img => {
                    let randomIndex;
                    do {
                        randomIndex = Math.floor(Math.random() * paths.length);
                    } while (selectedPaths.has(paths[randomIndex])); // 确保不重复
                    selectedPaths.add(paths[randomIndex]);
                    img.src = paths[randomIndex];
                });

            }, 1800); // 动画结束后显示结果
        });

        // 点击再来一次按钮，恢复初始化状态
        retryBtn.addEventListener('click', function() {
            // 重置选择状态
            selectedGroup1 = null;
            selectedGroup2 = null;

            group1Buttons.forEach(btn => btn.classList.remove('selected'));
            group2Buttons.forEach(btn => btn.classList.remove('selected'));

            // 隐藏图片网格
            imageGrid.style.display = 'none';

            // 显示抽取按钮
            randomBtn.style.display = 'block';
        });
    </script>
</body>
</html>
